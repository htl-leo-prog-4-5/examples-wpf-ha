<div class="container mt-3">

  <h1>Trips Overview</h1>

  <div class="form-check">
    <input type="checkbox" id="showAllFilter" [(ngModel)]="showAllFilter" class="form-check-input"
      (change)="reloadTrips()">
    <label for="showAllFilter" class="form-check-label">Show all trips</label>

  </div>

  <table class="table">
    <thead>
      <tr>
        <th scope="col">Route</th>
        <th scope="col">DepartureDateTime</th>
        <th scope="col">ArrivalDateTime</th>
        <th scope="col">Steps</th>
        <th scope="col"></th>

      </tr>
    </thead>
    <tbody>
      @for (trip of trips; track $index; let idx = $index) {
        @if (trip.available || showAllFilter) {
            <tr>
                <td>{{trip.route.name}}</td>
                <td>{{trip.departureDateTime| date:'longDate'}}</td>
                <td>{{trip.arrivalDateTime| date:'longDate'}}</td>
                <td>{{getSteps(trip)}}</td>
        <!--
                <td>{{trip.}}</td>
                <td>{{trip.lastName}}</td>
                @if (trip.medicalFindingsDate == null) {
                <button class="btn btn-info btn-sm" (click)="finding(examination)">Add findings</button>
                }
                @else {
                <button class="btn btn-info btn-sm" (click)="finding(examination)">Update findings</button>
                }
        -->        
            </tr>
            }
      }
    </tbody>
  </table>
</div>